{"version":3,"sources":["components/Post.jsx","components/PostsList.jsx","components/pages/MainPage.jsx","components/pages/AddPostPage.jsx","components/pages/SinglePostPage.jsx","components/pages/EditPostPage.jsx","App.jsx","index.js"],"names":["Post","post","className","content","Date","created","toLocaleString","PostsList","useState","posts","setPosts","useEffect","axios","get","then","res","data","postsCards","map","p","to","id","MainPage","AddPostPage","history","newPostText","setNewPostText","rows","onChange","target","value","onClick","push","URL","SinglePostPage","match","params","setPost","find","Number","html","delete","EditPostPage","setContent","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3984ba6e.chunk.js","sourcesContent":["export default function Post({ post }) {\n  return (\n    <>\n      <div className='post-text'>{post.content}</div>\n      <div>\n        <span className='bold'>Создан: </span>\n        <span >{(new Date(post.created)).toLocaleString()}</span>\n      </div>\n    </>\n  )\n}","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport Post from './Post';\nimport { Link } from 'react-router-dom';\n\nconst URL = 'http://localhost:7777/posts';\n\nexport default function PostsList() {\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    axios.get(URL)\n      .then(res => setPosts(res.data))\n  }, []);\n\n  const postsCards = posts.map(p => (\n    <li key={p.id}>\n      <Link to={`/posts/${p.id}`} className='link-normalizer'>\n        <div className=\"block\">\n          <Post post={p} />\n        </div>\n      </Link>\n    </li>\n  ))\n\n  return (\n    <ul>{postsCards}</ul>\n  );\n}","import { Link } from 'react-router-dom';\nimport PostsList from '../PostsList';\n\nexport default function MainPage() {\n  return (\n    <>\n      <div className='mainpage-add-block block'>\n        <Link to='/posts/new' className='add-block-add-btn btn'>Новый пост</Link>\n      </div>\n      <PostsList />\n    </>\n  );\n}","import { Link } from 'react-router-dom';\nimport React, { useState } from 'react';\nimport axios from 'axios';\n\nconst URL = 'http://localhost:7777/posts'\n\nexport default function AddPostPage({ history }) {\n\n  const [newPostText, setNewPostText] = useState('');\n  const handleTextChange = ({ target }) => setNewPostText(target.value);\n\n  const postNewPost = () => {\n    if (!newPostText) {\n      return;\n    }\n    axios.post(URL, { id: 0, content: newPostText })\n      .then(() => {\n        setNewPostText('')\n        history.push('/')\n      });\n  };\n\n  return (\n    <>\n      <div className='title'>Новая запись</div>\n      <div className='addpost-block block'>\n        <Link to='/'>\n          <span className=\"material-icons addpost-close\">close</span>\n        </Link>\n        <textarea className='addpost-textarea' rows=\"5\" onChange={handleTextChange} value={newPostText}></textarea>\n        <div className='btn' onClick={postNewPost}>Отправить</div>\n      </div>\n    </>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport Post from '../Post';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\n\nconst URL = 'http://localhost:7777/posts';\n\nexport default function SinglePostPage({match, history}) {\n  const id = match.params.id;\n  const [post, setPost] = useState(null)\n\n  useEffect(() => {\n    axios.get(URL)\n    .then(res => setPost(res.data.find(p => Number(p.id) === Number(id))))\n  }, [id]);\n\n  const onDelete = () => {\n    axios.delete(`${URL}/${id}`)\n      .then(() => history.push('/'))\n  }\n\n  const html = <>\n    <Link to='/' className='link-normalizer'>\n      <div className='post-back'>&lt; Назад</div>\n    </Link>\n    <div className='block'>\n      <Post post={post} />\n      <div className='post-buttons'>\n        <div className='btn mr-3'>\n          <Link to={`/edit/${id}`} className='link-normalizer'>\n            Редактровать\n          </Link>\n        </div>\n        <div className='btn btn-del' onClick={onDelete}>Удалить</div>\n      </div>\n    </div>\n  </>\n\n  return (\n    <>\n      { post && html }\n    </>\n  );\n}","import { Link } from 'react-router-dom';\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst URL = 'http://localhost:7777/posts';\n\nexport default function EditPostPage({ match, history }) {\n  const id = Number(match.params.id);\n  const [content, setContent] = useState('')\n\n  useEffect(() => {\n    axios.get(URL)\n      .then(res => setContent(res.data.find(p => Number(p.id) === id).content))\n  }, [id]);\n\n  const handleTextChange = ({ target }) => setContent(target.value);\n\n  const postEditedPost = () => {\n    if (!content) {\n      return;\n    }\n    axios.post(URL, { id, content })\n      .then(() => {\n        setContent('')\n        history.push(`/posts/${id}`)\n      });\n  };\n\n  return (\n    <>\n      <div className='title'>Редактирование поста</div>\n      <div className='addpost-block block'>\n        <Link to={`/posts/${id}`}>\n          <span className=\"material-icons addpost-close\">close</span>\n        </Link>\n        <textarea className='addpost-textarea' rows=\"5\" onChange={handleTextChange} value={content}></textarea>\n        <div className='btn' onClick={postEditedPost}>Отправить</div>\n      </div>\n    </>\n  );\n}","import {BrowserRouter as Router, Route} from 'react-router-dom';\nimport MainPage from './components/pages/MainPage';\nimport AddPostPage from './components/pages/AddPostPage';\nimport SinglePostPage from './components/pages/SinglePostPage';\nimport EditPostPage from './components/pages/EditPostPage';\nimport './App.css';\n\n\nexport default function App() {\n  return (\n    <div className='app'>\n      <Router>\n        <Route path='/' exact component={MainPage} />\n        <Route path='/posts/new' component={AddPostPage} />\n        <Route path='/posts/:id' component={SinglePostPage} />\n        <Route path='/edit/:id' component={EditPostPage} />\n      </Router>\n    </div>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}